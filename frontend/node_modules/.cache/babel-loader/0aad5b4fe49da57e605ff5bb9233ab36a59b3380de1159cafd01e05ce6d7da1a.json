{"ast":null,"code":"var _jsxFileName = \"C:\\\\Code\\\\COS30049_AI_Python_ReactJS\\\\weather_website\\\\frontend\\\\src\\\\components\\\\HomePage.jsx\",\n  _s = $RefreshSig$();\n// HomePage.jsx\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Grid } from \"@mui/material\";\nimport { motion } from \"framer-motion\";\nimport WeatherOverview from \"./WeatherOverview\";\nimport SearchLocation from \"./SearchLocation\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport WeatherInfoCard from \"./WeatherInfoCard\";\nimport \"./HomePage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [locations, setLocations] = useState([]);\n  const [predictions, setPredictions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedLocation, setSelectedLocation] = useState(\"\");\n  const [backgroundStyles, setBackgroundStyles] = useState({});\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/locations\").then(response => response.json()).then(data => {\n      setLocations(data);\n      const randomLocation = data[Math.floor(Math.random() * data.length)];\n      setSelectedLocation(randomLocation);\n      fetchPredictions(randomLocation);\n    }).catch(error => console.error(\"Error fetching locations:\", error));\n  }, []);\n  const fetchPredictions = location => {\n    setLoading(true);\n    fetch(`http://127.0.0.1:8000/predict`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        location\n      })\n    }).then(response => response.json()).then(data => {\n      var _data$;\n      setPredictions(data);\n      const humidity = ((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.humidity_9am) || 0;\n      setBackgroundStyles(getBackgroundStyles(humidity));\n      setLoading(false);\n    }).catch(error => {\n      console.error(\"Error fetching prediction:\", error);\n      setLoading(false);\n    });\n  };\n  const getBackgroundStyles = humidity => {\n    if (humidity > 70) {\n      return {\n        className: \"rainy-background\"\n      };\n    } else if (humidity > 30) {\n      return {\n        className: \"cloudy-background\"\n      };\n    }\n    return {\n      className: \"sunny-background\"\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    className: backgroundStyles.className,\n    style: {\n      height: \"90vh\",\n      color: \"white\",\n      padding: \"20px\",\n      width: \"100%\",\n      overflow: \"hidden\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xxl\",\n      style: {\n        paddingLeft: 10,\n        paddingRight: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        style: {\n          height: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: [/*#__PURE__*/_jsxDEV(SearchLocation, {\n            locations: locations,\n            setSelectedLocation: setSelectedLocation,\n            fetchPredictions: fetchPredictions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), loading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), predictions.length > 0 && /*#__PURE__*/_jsxDEV(WeatherOverview, {\n            predictions: predictions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 8\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"0XjNYKk1/cy21mMLDHzMo6ISxhc=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","motion","WeatherOverview","SearchLocation","LoadingSpinner","WeatherInfoCard","jsxDEV","_jsxDEV","HomePage","_s","locations","setLocations","predictions","setPredictions","loading","setLoading","selectedLocation","setSelectedLocation","backgroundStyles","setBackgroundStyles","fetch","then","response","json","data","randomLocation","Math","floor","random","length","fetchPredictions","catch","error","console","location","method","headers","body","JSON","stringify","_data$","humidity","humidity_9am","getBackgroundStyles","className","div","initial","opacity","animate","exit","style","height","color","padding","width","overflow","children","maxWidth","paddingLeft","paddingRight","container","spacing","item","xs","md","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Code/COS30049_AI_Python_ReactJS/weather_website/frontend/src/components/HomePage.jsx"],"sourcesContent":["// HomePage.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Container, Grid } from \"@mui/material\";\r\nimport { motion } from \"framer-motion\";\r\nimport WeatherOverview from \"./WeatherOverview\";\r\nimport SearchLocation from \"./SearchLocation\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport WeatherInfoCard from \"./WeatherInfoCard\";\r\nimport \"./HomePage.css\";\r\n\r\nfunction HomePage() {\r\n  const [locations, setLocations] = useState([]);\r\n  const [predictions, setPredictions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedLocation, setSelectedLocation] = useState(\"\");\r\n  const [backgroundStyles, setBackgroundStyles] = useState({});\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://127.0.0.1:8000/locations\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setLocations(data);\r\n        const randomLocation = data[Math.floor(Math.random() * data.length)];\r\n        setSelectedLocation(randomLocation);\r\n        fetchPredictions(randomLocation);\r\n      })\r\n      .catch((error) => console.error(\"Error fetching locations:\", error));\r\n  }, []);\r\n\r\n  const fetchPredictions = (location) => {\r\n    setLoading(true);\r\n    fetch(`http://127.0.0.1:8000/predict`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ location }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setPredictions(data);\r\n        const humidity = data[0]?.humidity_9am || 0;\r\n        setBackgroundStyles(getBackgroundStyles(humidity));\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching prediction:\", error);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const getBackgroundStyles = (humidity) => {\r\n    if (humidity > 70) {\r\n      return { className: \"rainy-background\" };\r\n    } else if (humidity > 30) {\r\n      return { className: \"cloudy-background\" };\r\n    }\r\n    return { className: \"sunny-background\" };\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className={backgroundStyles.className}\r\n      style={{ height: \"90vh\", color: \"white\", padding: \"20px\", width: \"100%\", overflow: \"hidden\" }}\r\n    >\r\n      <Container maxWidth=\"xxl\" style={{ paddingLeft: 10, paddingRight: 10 }}>\r\n        <Grid container spacing={3} style={{ height: \"100%\" }}>\r\n          <Grid item xs={12} md={4}>\r\n            <SearchLocation\r\n              locations={locations}\r\n              setSelectedLocation={setSelectedLocation}\r\n              fetchPredictions={fetchPredictions}\r\n            />\r\n            {loading && <LoadingSpinner />}\r\n            {predictions.length > 0 && (\r\n              <WeatherOverview predictions={predictions} />\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12} md={8}>\r\n            {/* Add any additional content you want on the right side */}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}